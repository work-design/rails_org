<tr data-depth="<%= organ.depth_str %>">
  <td>
    <span style="width: <%= organ.depth * 1.43 %>em; display: inline-block;"></span>
    <% if !organ.leaf? %>
      <i class="fas fa-fw fa-caret-down" data-action="click->tree#collapse" style="cursor: pointer;"></i>
    <% else %>
      <i class="fas fa-fw fa-minus"></i>
    <% end %>
    <%= organ.name %>
    <% if organ.name_short %>
      (<%= organ.name_short %>)
    <% end %>
  </td>
  <td><%= image_tag organ.logo.variant(resize_to_limit: [30, 30]) if organ.logo.attached? %></td>
  <td><%= organ.domain %></td>
  <td>
    <p><%= organ.area&.full_name %></p>
    <p><%= organ.address %></p>
  </td>
  <td>
    <div data-controller="input">
      <%= check_box_tag '[organ]official', nil, organ.official, data: { method: :patch, remote: true, confirm: t('.confirm'), url: panel_organ_path(organ), action: 'input#submit' }, id: nil, class: 'switch is-rounded' %>
      <label></label>
    </div>
  </td>
  <td>
    <div>
      <% organ.roles.pluck(:name).each do |role| %>
        <span><%= role %></span>
      <% end %>
      <%= link_to edit_admin_who_roles_path('Organ', organ.id), aria: { label: t('role.admin.who_roles.edit.title') }, remote: true do %>
        <i class="fas fa-user-shield"></i>
      <% end %>
    </div>
  </td>
  <td>
    <%= link_to edit_panel_organ_path(organ), aria: { label: t('.edit') }, remote: true, class: 'button is-small is-rounded is-light' do %>
      <i class="fas fa-pencil-alt"></i>
    <% end %>
    <%= link_to panel_organ_path(organ), method: :delete, aria: { label: t('.destroy') }, data: { confirm: t('.confirm') }, class: 'button is-small is-rounded is-light' do %>
      <i class="fas fa-trash-alt"></i>
    <% end %>
    <%= link_to our_root_url(subdomain: organ.subdomain), aria: { label: t('.mock') }, class: 'button is-small is-rounded is-light' do %>
      <i class="fas fa-hand-point-right"></i>
    <% end %>
  </td>
</tr>
