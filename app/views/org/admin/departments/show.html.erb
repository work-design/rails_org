<%= content_for :breadcrumb do %>
  <ul>
    <li><%= link_to t('org.admin.departments.index.title'), admin_departments_path %></li>
    <% @department.ancestors.reverse.each do |ancestor| %>
      <% if controller_path == 'org/admin/departments' %>
        <li><%= link_to ancestor.name, { id: ancestor.id } %></li>
      <% else %>
        <li><%= link_to ancestor.name, { department_id: ancestor.id } %></li>
      <% end %>
    <% end %>
    <li class="is-active"><%= @department.name %></li>
  </ul>
<% end %>

<%= render 'filter' %>
<div class="columns">
  <div class="column">
    <table class="table is-hoverable is-fullwidth">
      <thead>
      <tr>
        <th><%= Member.human_attribute_name(:name) %></th>
        <th><%= Member.human_attribute_name(:identity) %></th>
        <th><%= Member.human_attribute_name(:job_titles) %></th>
        <th><%= Member.human_attribute_name(:join_on) %></th>
        <th>
          <%= link_to new_admin_member_path(department_id: @department.id), remote: true, class: 'button is-link is-small' do %>
            <i class="fas fa-plus"></i><%= t('.new') %>
          <% end %>
        </th>
      </tr>
      </thead>
    
      <tbody>
      <% @members.each do |member| %>
        <%= render partial: 'member', locals: { member: member } %>
      <% end %>
      </tbody>
    </table>
  
    <%= paginate @members %>
  </div>
  <div class="column is-narrow">
    <%= render 'nav_show' %>
  </div>
</div>
